/*
 | resources/css/app.css
 | Tailwind CSS v4 import and MYDS design tokens
 */

/* Import Tailwind CSS v4 */
@import "tailwindcss";

/* MYDS Design Tokens as CSS Custom Properties */
@layer base {
  :root {
    /* MYDS Typography */
    --font-body: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-heading: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;

    /* MYDS Primitive Colors (Updated to official spec) */
    --primary: #2563EB; /* MYDS Blue */
    --danger: #D32F2F;
    --success: #388E3C;
    --warning: #FFA000;

    /* MYDS Color Tokens - Light Mode */
    --bg-page: #FFFFFF;
    --bg-surface: #FAFAFA;
    --bg-muted: #F3F4F6;
    --bg-subtle: #E5E7EB;

    /* MYDS Text Tokens - Light Mode */
    --txt-primary: #111827;
    --txt-secondary: #374151;
    --txt-muted: #6B7280;
    --txt-disabled: #9CA3AF;
    --txt-on-primary: #FFFFFF;
    --txt-on-dark: #FFFFFF;

    /* MYDS Outline Tokens */
    --otl-default: rgba(15,23,42,0.06);
    --otl-primary: rgba(58,117,246,0.12);

    /* MYDS Focus Ring Tokens */
    --fr: rgba(150,183,255,0.4);
    --fr-shadow: rgba(150,183,255,0.12);

    /* MYDS Motion Tokens */
    --motion-short: 200ms;
    --motion-medium: 400ms;
    --motion-long: 600ms;

    /* MYDS Radius Tokens */
    --radius-xs: 4px;
    --radius-s: 6px;
    --radius-m: 8px;
    --radius-l: 12px;
    --radius-xl: 14px;
  }

  /* MYDS Dark Mode Tokens */
  [data-theme="dark"] {
    --primary: #3B82F6; /* Adjusted for dark mode */
    --danger: #EF4444;
    --success: #10B981;
    --warning: #F59E0B;

    --bg-page: #111827;
    --bg-surface: #1F2937;
    --bg-muted: #374151;
    --bg-subtle: #4B5563;

    --txt-primary: #F9FAFB;
    --txt-secondary: #E5E7EB;
    --txt-muted: #9CA3AF;
    --txt-disabled: #6B7280;
    --txt-on-primary: #FFFFFF;
    --txt-on-dark: #F9FAFB;

    --otl-default: rgba(255,255,255,0.1);
    --otl-primary: rgba(59,130,246,0.2);

    --fr: rgba(59,130,246,0.4);
    --fr-shadow: rgba(59,130,246,0.1);
  }

  /* MYDS Base Typography & Accessibility */
  body {
    font-family: var(--font-body);
    background-color: var(--bg-page);
    color: var(--txt-primary);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 500;
    line-height: 1.2;
  }

  /* MYDS Typography Scale - Headings */
  .myds-heading-xl { font-size: 60px; line-height: 72px; } /* 3.75rem / 4.5rem */
  .myds-heading-lg { font-size: 48px; line-height: 60px; } /* 3rem / 3.75rem */
  .myds-heading-md { font-size: 36px; line-height: 44px; } /* 2.25rem / 2.75rem - h1 */
  .myds-heading-sm { font-size: 30px; line-height: 38px; } /* 1.875rem / 2.375rem - h2 */
  .myds-heading-xs { font-size: 24px; line-height: 32px; } /* 1.5rem / 2rem - h3 */
  .myds-heading-2xs { font-size: 20px; line-height: 28px; } /* 1.25rem / 1.75rem - h4 */
  .myds-heading-3xs { font-size: 16px; line-height: 24px; } /* 1rem / 1.5rem - h5 */
  .myds-heading-4xs { font-size: 14px; line-height: 20px; } /* 0.875rem / 1.25rem - h6 */

  /* MYDS Typography Scale - Body Text */
  .myds-body-6xl { font-size: 60px; line-height: 72px; }
  .myds-body-5xl { font-size: 48px; line-height: 60px; }
  .myds-body-4xl { font-size: 36px; line-height: 44px; }
  .myds-body-3xl { font-size: 30px; line-height: 38px; }
  .myds-body-2xl { font-size: 24px; line-height: 32px; }
  .myds-body-xl { font-size: 20px; line-height: 28px; }
  .myds-body-lg { font-size: 18px; line-height: 26px; }
  .myds-body-md { font-size: 16px; line-height: 24px; } /* Default body */
  .myds-body-sm { font-size: 14px; line-height: 20px; }
  .myds-body-xs { font-size: 12px; line-height: 18px; }
  .myds-body-2xs { font-size: 10px; line-height: 12px; }

  /* MYDS Rich Text Format (RTF) - Article content */
  .myds-rtf h1 { font-size: 30px; line-height: 38px; font-weight: 600; }
  .myds-rtf h2 { font-size: 24px; line-height: 32px; font-weight: 600; }
  .myds-rtf h3 { font-size: 20px; line-height: 28px; font-weight: 600; }
  .myds-rtf h4 { font-size: 18px; line-height: 26px; font-weight: 600; }
  .myds-rtf h5 { font-size: 16px; line-height: 24px; font-weight: 600; }
  .myds-rtf h6 { font-size: 14px; line-height: 20px; font-weight: 600; }
  .myds-rtf p { font-size: 16px; line-height: 28px; margin-bottom: 28px; }

  /* MYDS Accessibility Enhancements */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Skip to content link */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--primary);
    color: var(--txt-on-primary);
    padding: 8px;
    text-decoration: none;
    z-index: 1000;
    border-radius: var(--radius-s);
  }

  .skip-link:focus {
    top: 6px;
  }
}

@layer components {
  /* MYDS Grid System Utilities */
  .myds-container {
    @apply mx-auto px-6 desktop:px-6 tablet:px-6 mobile:px-4.5;
    max-width: 1280px;
  }

  .myds-grid {
    @apply grid gap-6 desktop:gap-6 tablet:gap-6 mobile:gap-4.5;
  }

  .myds-grid-desktop {
    @apply desktop:grid-cols-desktop;
  }

  .myds-grid-tablet {
    @apply tablet:grid-cols-tablet;
  }

  .myds-grid-mobile {
    @apply mobile:grid-cols-mobile;
  }

  /* MYDS Article Container */
  .myds-article {
    @apply max-w-article mx-auto;
  }

  .myds-media-wide {
    @apply max-w-media-wide mx-auto;
  }

  /* MYDS Button Components */
  .myds-btn {
    @apply inline-flex items-center justify-center px-3.5 py-2 text-sm font-medium rounded-s;
    @apply transition-all duration-short;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    cursor: pointer;
    min-height: 44px; /* MYDS minimum touch target */
  }

  .myds-btn--primary {
    background-color: var(--primary);
    color: var(--txt-on-primary);
    border: 1px solid var(--otl-default);
  }

  .myds-btn--primary:hover {
    opacity: 0.9;
  }

  .myds-btn--secondary {
    background-color: transparent;
    color: var(--txt-primary);
    border: 1px solid var(--otl-primary);
  }

  .myds-btn--secondary:hover {
    background-color: var(--bg-muted);
  }

  .myds-btn--danger {
    background-color: var(--danger);
    color: #ffffff;
    border: 1px solid var(--otl-default);
  }

  .myds-btn--danger:hover {
    opacity: 0.9;
  }

  .myds-btn--tertiary {
    background-color: transparent;
    color: var(--primary);
    border: 1px solid transparent;
    padding: 0.25rem;
  }

  .myds-btn--tertiary:hover {
    text-decoration: underline;
  }

  /* MYDS Focus Ring */
  .myds-focus-ring {
    outline: 2px solid var(--fr) !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 4px var(--fr-shadow) !important;
  }

  /* MYDS Navigation */
  .myds-nav {
    background-color: var(--bg-surface);
    border-bottom: 1px solid var(--otl-default);
  }

  .myds-brand {
    color: var(--txt-primary);
    font-weight: 600;
    text-decoration: none;
  }

  .myds-brand:hover {
    color: var(--primary);
  }

  /* MYDS Form Elements */
  .myds-input {
    @apply w-full px-3 py-2 rounded-s border;
    background-color: var(--bg-surface);
    color: var(--txt-primary);
    border-color: var(--otl-default);
    min-height: 44px;
  }

  .myds-input:focus {
    @apply myds-focus-ring;
    border-color: var(--primary);
  }

  .myds-input::placeholder {
    color: var(--txt-muted);
  }

  /* MYDS Table */
  .myds-table {
    @apply w-full;
    color: var(--txt-primary);
  }

  .myds-table thead th {
    background-color: var(--bg-muted);
    color: var(--txt-primary);
    border-bottom: 1px solid var(--otl-default);
    @apply px-4 py-3 text-left;
  }

  .myds-table tbody td {
    @apply px-4 py-3;
    border-bottom: 1px solid var(--otl-default);
  }

  .myds-table tbody tr:hover {
    background-color: var(--bg-muted);
  }
}

@layer utilities {
  /* MYDS Color Utilities */
  .text-primary { color: var(--primary) !important; }
  .text-danger { color: var(--danger) !important; }
  .text-success { color: var(--success) !important; }
  .text-warning { color: var(--warning) !important; }
  .text-muted { color: var(--txt-muted) !important; }

  .bg-surface { background-color: var(--bg-surface) !important; }
  .bg-muted { background-color: var(--bg-muted) !important; }

  /* MYDS Typography Utilities */
  .font-heading { font-family: var(--font-heading) !important; }
  .font-body { font-family: var(--font-body) !important; }

  /* MYDS Motion Utilities */
  .transition-short { transition-duration: var(--motion-short) !important; }
  .transition-medium { transition-duration: var(--motion-medium) !important; }
  .transition-long { transition-duration: var(--motion-long) !important; }

  /* MYDS Theme Toggle Utilities */
  .theme-transition { transition: background-color var(--motion-short), color var(--motion-short), border-color var(--motion-short); }

  /* MYDS Alert Components */
  .myds-alert {
    padding: 1rem;
    border-radius: var(--radius-m);
    border: 1px solid;
    background-color: var(--bg-surface);
    border-color: var(--otl-default);
  }

  .myds-alert--success {
    background-color: var(--success);
    color: white;
    border-color: var(--success);
  }

  .myds-alert--danger {
    background-color: var(--danger);
    color: white;
    border-color: var(--danger);
  }

  .myds-alert--warning {
    background-color: var(--warning);
    color: white;
    border-color: var(--warning);
  }

  /* MYDS Badge Components */
  .myds-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-xs);
    font-size: 0.75rem;
    font-weight: 500;
  }

  .myds-badge--primary {
    background-color: var(--primary);
    color: var(--txt-on-primary);
  }

  .myds-badge--danger {
    background-color: var(--danger);
    color: white;
  }

  .myds-badge--success {
    background-color: var(--success);
    color: white;
  }

  /* MYDS Dropdown Components */
  .myds-dropdown {
    background-color: var(--bg-surface);
    border: 1px solid var(--otl-default);
    border-radius: var(--radius-m);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .myds-dropdown .dropdown-item {
    color: var(--txt-primary);
    padding: 0.5rem 1rem;
  }

  .myds-dropdown .dropdown-item:hover {
    background-color: var(--bg-muted);
    color: var(--txt-primary);
  }

  .myds-dropdown .dropdown-item.active {
    background-color: var(--primary);
    color: var(--txt-on-primary);
  }
}
